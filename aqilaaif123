index.html <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine Card</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
body{
  margin:0;
  font-family: "Georgia", serif;
  background: linear-gradient(#ffd6e0,#ffeef2);
  overflow-x:hidden;
  text-align:center;
}

/* hearts */
.heart{
  position:fixed;
  top:-10px;
  font-size:20px;
  animation:fall linear infinite;
  opacity:.6;
}
@keyframes fall{
  to{transform:translateY(110vh);}
}

/* envelope */
.envelope{
  width:280px;
  height:180px;
  margin:30px auto;
  background:#fff;
  position:relative;
  border-radius:10px;
  cursor:pointer;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
}
.flap{
  position:absolute;
  width:100%;
  height:100%;
  background:#f8c8d6;
  transform-origin:top;
  transition:.7s;
}
.open .flap{
  transform:rotateX(180deg);
}
.message{
  padding:20px;
  font-family:cursive;
  font-size:18px;
  opacity:0;
}
.open .message{
  opacity:1;
}

button{
  margin:8px;
  padding:8px 14px;
  border:none;
  border-radius:8px;
  background:#ff4d6d;
  color:#fff;
}

/* gallery */
.gallery img{
  width:90px;
  height:90px;
  object-fit:cover;
  border-radius:12px;
  margin:5px;
}

.border1{border:6px solid pink;}
.border2{border:6px dashed red;}
.border3{border:6px double hotpink;}

#map{height:250px;margin:20px;}
</style>
</head>

<body>

<h1>ðŸ’Œ Valentine Greeting</h1>

<input id="userMsg" placeholder="Type your love message..." style="width:80%;padding:8px"><br>

<div id="envelope" class="envelope">
  <div class="flap"></div>
  <div class="message" id="displayMsg"></div>
</div>

<button onclick="toggleMusic()">ðŸŽµ Music</button>
<button onclick="generatePoem()">âœ¨ Secret Poem</button>

<h3 id="countdown"></h3>

<hr>

<h2>Photo Gallery</h2>
<input type="file" multiple onchange="loadPhotos(event)">
<br>
<select onchange="changeBorder(this.value)">
  <option value="">Border Style</option>
  <option value="border1">Floral Pink</option>
  <option value="border2">Romantic Dashed</option>
  <option value="border3">Elegant Double</option>
</select>

<div id="gallery" class="gallery"></div>

<hr>

<h2>Memory Map</h2>
<div id="map"></div>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_c8d7f3c9d8.mp3" type="audio/mp3">
</audio>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
/* hearts */
for(let i=0;i<30;i++){
  let h=document.createElement("div");
  h.innerHTML="â¤ï¸";
  h.className="heart";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=4+Math.random()*6+"s";
  document.body.appendChild(h);
}

/* envelope */
const env=document.getElementById("envelope");
env.onclick=()=>{
  document.getElementById("displayMsg").innerText=
    document.getElementById("userMsg").value;
  env.classList.toggle("open");
}

/* music */
function toggleMusic(){
  const m=document.getElementById("music");
  m.paused?m.play():m.pause();
}

/* poem */
function generatePoem(){
  alert("Your smile lights my darkest nights,\nEvery heartbeat calls your name,\nWith you, love feels endless.");
}

/* countdown */
function updateCountdown(){
  const target=new Date("Feb 14, 2026 00:00:00").getTime();
  const now=Date.now();
  const diff=target-now;
  if(diff<0) return;
  const d=Math.floor(diff/86400000);
  document.getElementById("countdown").innerText=
    "â³ "+d+" days until Valentine's Day";
}
setInterval(updateCountdown,1000);

/* gallery */
function loadPhotos(e){
  const g=document.getElementById("gallery");
  for(let file of e.target.files){
    const img=document.createElement("img");
    img.src=URL.createObjectURL(file);
    g.appendChild(img);
  }
}

function changeBorder(b){
  const g=document.getElementById("gallery");
  g.className="gallery "+b;
}

/* map */
const map=L.map('map').setView([-6.2,106.8],11);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

map.on('click',function(e){
  L.marker(e.latlng).addTo(map)
  .bindPopup("Our memory â¤ï¸");
});
</script>

</body>
</html>
